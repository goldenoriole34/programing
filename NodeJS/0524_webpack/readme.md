웹팩(번들러)은,

바벨과 타입스크립트처럼 여러개의 파일을 번들링해주는 것이다.
번들링 시스템부터 배워야 타입스크립트를 배울 수 잇고
웹팩은 JS의 백엔드/프론트엔드 모두 배워둬야 할 필수 항목이다

NEXT.JS는 웹팩을 쓸 수 밖에 없다.

# 타입스크립트를 배우는 이유
개발업계에서 요구하고 있는 추세이다.

# 타입스크립트를, 
문법이 어렵지는 않지만 개념이 어렵다는 의견이 많다.
객체지향적 사고가 없으면 진입장벽이 높은 편이라고 한다.

express에 typescript를 억지로 박는 경우도 있는데
express는 디렉토리구조 파일구조 등 자체가 OOP가 아니다.
두 가지의 속성이 맞지 않는 것이다.

따라서 express에 타입스크립트를 쓰는 것은 좋지 않다.
express에 사용하려면 빌드 및 실행등이 번거롭다

React에서는 그나마 가능하다
컴포넌트 구조가 객체지향적 사고와 비슷하기 때문이다.
또한 웹팩이 기본적으로 사용되어 있기 때문에 실행자체를 간단하게 할 수 있다.

혹 나중에 기회가 된다면,
nest.js -> express구조를 갖고 있기 때문에 그 안에서 객체지향적 코드를 짜서 사용하는 것이 좋다



# 타입스크립트의 장점
JS에서는 다음과 같은 코드는 에러가 난다.
let a:1;
다만, 실행을 해야 그 에러를 파악할 수 잇다.

  function add(a, b) {
    retrun a+b
  }

  add(null, null)

JS에서도, JAVA에서도 도중에 에러가 나면 서버가 꺼지는 경우가 많다.
즉 실행을 해야 에러를 확인할 수 있다는 것이다.



그래서 웹팩을 배워야 한다.

a.js와 b.js를 웹팩으로 하나로 합쳐준다
웹팩은 node.js환경에서 돌아감


-/node_module.
-/dist
-/src
--a.js
-package.json

npx webpack build ./src/a.js


a.js 파일을 dist/main.js라고 default ./dist
filename : main.js -> 설정을 통해 바꿀 수는 있다.


a와 b를 만들어주었는데
번들은 이 a, b를 합쳐주는 것이다.
다시 명령어를 써서 진행해본다.
main.js를 보면 외계어처럼 생겼지만 console.log로 찍었던 'hello world'가 중간에 있는 것을 보면 a. b가 합쳐졌다는 것을 알 수 있다.
그래서 main.js를 실행하면 hello world도 뜬다!!!


# 번들링할 때,
Default로 지정되어 있는 폴더나,
fileName도 바꿀 수 있다.
명령어로 가능함

npx webpack build ./src/a.js 처럼!

그러나 하나하나 입력을 하기 번거로우니
파일을 만들어 관리한다.
webpack.config.js

실행할때는 webpack만 써주면 된다.
npx webpack 는 기본적으로 webpack.config.js을 읽어준다.
참고로 절대경로를 넣어주어야 한다.

# 웹팩의 번들링에 대해 이해했다면, 타입스크립트 진입이 가능함
웹팩은 파일을 받아서 다른 파일로 완성시켜주는데,
웹팩도 기능이 있다 함수처럼 웹팩을 받았을때 코드를 수정하여 내보낼 수 있다.
타입스크립트로 이뤄져있는 a파일을 자바스크립트로 변경하여 반환이 가능한데
이렇게 쓰려면 웹팩에 기능을 임의로 넣어주어야 한다.
이럴때 모듈을 사용한다
  module:{
    rules : [{
      test: /\.ts$/, //웹팩이 타입스크립트를 변환하고 싶을 때, 불필요한 파일들을 배제하기 위해 정규식(가급적)으로 변경할 파일을 입력함
    }]
  }

  그 다음 npm install ts-loader -D 로 설치해준다.

  module:{
    rules : [{
      test: /\.ts$/, //웹팩이 타입스크립트를 변환하고 싶을 때, 불필요한 파일들을 배제하기 위해 정규식(가급적)으로 변경할 파일을 입력함
      use:'ts-loader'
    }]
  },

  그 다음 타입스크립트로 변경하면 안되는 node모듈을 빼준다.
  ts-loader는 또 하나의 json파일을 읽는다. 그래서   tsconfig.json을 만들어준다
  제이슨 파일은 문법을 검증해주는 역할을 한다.

  {
  "compilerOption" :{
    "strict": true
  }
}

추가해준다 npx webpack을 하면 server.js에는 결과만 뜬다.

타입스크립트가 어려운 이유는 ts.config 등 본인의 입맛대로 사용할 수 있도록 파악하고 있어야 하기 때문이다.